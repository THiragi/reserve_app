<% provide(:title) %>

<h2>宿泊予約申請フォーム</h2>
<% letters = ('a'..'z').to_a %>
<% l = letters.sample(4).join %>
<% n = sprintf('%08d', Reservation.count + 1) %>

<% if @reservation.errors.any? %>
  <div class="errors_explain">
    <h3><%= @reservation.errors.count %>件のエラーがあります</h3>
    <ul>
    <% @reservation.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<%= form_for @reservation do |f| %>
  <%= f.hidden_field :reserve_no, value: l + n %>
    <div class="form_list">
      <%= render 'form', f: f %>
      <div class="btn_bars">
        <input type="button" class="btn" value="確認する" id="sendConfirm"/>
      </div>
    </div>
    <div class="confirm_list" style="display: none">
      <%= render 'confirm' %>
      <div class="btn_bars">
        <%= f.submit "予約を申請する", class:"btn" %>      
        <input type="button" class="btn" value="変更する" id="editConfirm"/>
      </div>
    </div>
<% end %>
